{"ast":null,"code":"var _jsxFileName = \"/Users/joshdebest/SeniorProject2020/ClientSide/src/App.js\";\nimport React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { Route, Switch } from 'react-router-dom';\nimport * as actions from './actions/actions';\nimport Home from './components/Home/Home';\nimport { push } from 'react-router-redux';\nimport store from './store';\n/* function mapStateToProps(state){\n    console.log(\"State is \" + JSON.stringify(state));\n    return {\n        Users: state.Users,\n        Errs: state.Errs\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return bindActionCreators(actions, dispatch);\n} */\n\nconst mapStateToProps = state => {\n  return {\n    appLoaded: state.common.appLoaded,\n    appName: state.common.appName,\n    currentUser: state.common.currentUser,\n    redirectTo: state.common.redirectTo\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  onLoad: (payload, token) => dispatch({\n    type: 'APP_LOAD',\n    payload,\n    token,\n    skipTracking: true\n  }),\n  onRedirect: () => dispatch({\n    type: REDIRECT\n  })\n});\n\nclass App extends Component {\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.redirectTo) {\n      // this.context.router.replace(nextProps.redirectTo);\n      store.dispatch(push(nextProps.redirectTo));\n      this.props.onRedirect();\n    }\n  }\n\n  componentWillMount() {\n    const token = window.localStorage.getItem('jwt');\n\n    if (token) {\n      agent.setToken(token);\n    }\n\n    this.props.onLoad(token ? agent.Auth.current() : null, token);\n  }\n\n  render() {\n    if (this.props.appLoaded) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Header, {\n        appName: this.props.appName,\n        currentUser: this.props.currentUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Switch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        component: Home,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/login\",\n        component: Login,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/register\",\n        component: Register,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }\n      })));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      appName: this.props.appName,\n      currentUser: this.props.currentUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }));\n  }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"sources":["/Users/joshdebest/SeniorProject2020/ClientSide/src/App.js"],"names":["React","Component","bindActionCreators","connect","Route","Switch","actions","Home","push","store","mapStateToProps","state","appLoaded","common","appName","currentUser","redirectTo","mapDispatchToProps","dispatch","onLoad","payload","token","type","skipTracking","onRedirect","REDIRECT","App","componentWillReceiveProps","nextProps","props","componentWillMount","window","localStorage","getItem","agent","setToken","Auth","current","render","Login","Register"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { Route, Switch } from 'react-router-dom';\n\nimport * as actions from './actions/actions';\nimport Home from './components/Home/Home';\nimport { push } from 'react-router-redux';\nimport store from './store';\n\n/* function mapStateToProps(state){\n    console.log(\"State is \" + JSON.stringify(state));\n    return {\n        Users: state.Users,\n        Errs: state.Errs\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return bindActionCreators(actions, dispatch);\n} */\n\nconst mapStateToProps = state => {\n    return {\n      appLoaded: state.common.appLoaded,\n      appName: state.common.appName,\n      currentUser: state.common.currentUser,\n      redirectTo: state.common.redirectTo\n    }};\n  \n  const mapDispatchToProps = dispatch => ({\n    onLoad: (payload, token) =>\n      dispatch({ type: 'APP_LOAD', payload, token, skipTracking: true }),\n    onRedirect: () =>\n      dispatch({ type: REDIRECT })\n  });\n\nclass App extends Component {\n    componentWillReceiveProps(nextProps) {\n      if (nextProps.redirectTo) {\n        // this.context.router.replace(nextProps.redirectTo);\n        store.dispatch(push(nextProps.redirectTo));\n        this.props.onRedirect();\n      }\n    }\n  \n    componentWillMount() {\n      const token = window.localStorage.getItem('jwt');\n      if (token) {\n        agent.setToken(token);\n      }\n  \n      this.props.onLoad(token ? agent.Auth.current() : null, token);\n    }\n  \n    render() {\n      if (this.props.appLoaded) {\n        return (\n          <div>\n            <Header\n              appName={this.props.appName}\n              currentUser={this.props.currentUser} />\n              <Switch>\n              <Route exact path=\"/\" component={Home}/>\n              <Route path=\"/login\" component={Login} />\n              <Route path=\"/register\" component={Register} />\n              </Switch>\n          </div>\n        );\n      }\n      return (\n        <div>\n          <Header\n            appName={this.props.appName}\n            currentUser={this.props.currentUser} />\n        </div>\n      );\n    }\n  }\n\n  \nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n"]},"metadata":{},"sourceType":"module"}